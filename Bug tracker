name: Move issues to In Progress

on:
  issues:
    types: [assigned]

jobs:
  move-issue:
    runs-on: ubuntu-latest
    steps:
    - name: Move issue to In Progress
      uses: actions/github-script@v3
      with:
        github-token: ${{ secrets.GITHUB_TOKEN }}
        script: |
          const projectBoardNumber = 1; // Change to your project board number
          const columnName = "In Progress"; // Change to your column name
          const { data: project } = await github.projects.listForRepo({
            owner: context.repo.owner,
            repo: context.repo.repo,
          }).then(projects => projects.data.find(proj => proj.name === projectName));
          
          const { data: columns } = await github.projects.listColumns({
            project_id: project.id,
          });
          
          const column = columns.find(col => col.name === columnName);
          
          await github.projects.createCard({
            column_id: column.id,
            content_id: context.payload.issue.id,
            content_type: 'Issue'
          });
